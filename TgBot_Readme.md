### Пример работы Telegram

## Описание проекта: 
Проект предсказания качества воздуха.

#### Логика работы: 

1.	Пользователь отправляет команду /start боту (или стартует его, найдя в поиске)  
    Бот приветствует пользователя, рассказывает о меню и также предлагает пользователю прочитать о возможностях, отправив команду /help  
  	![start](https://github.com/boisterous-cat/tgBot/assets/93883573/d2efae42-ba2b-4afe-a37e-91ebeb5abfc1)
  	
2. На этом этапе пользователь может совершить 5 действий:  
    2.1 Отправить в чат команду /help  
  	2.2 Запустить через меню команду /project  
  	2.3 Запустить через меню команду /top  
  	2.4 Запустить через меню команду /aqi  
  	2.5 Запустить через меню команду /stat  
    
3.	Пользователь отправляет в чат команду /help:  
   ![help](https://github.com/boisterous-cat/tgBot/assets/93883573/4116e1c9-cd37-4438-82fb-0ebd8a43f8dd)


4. Пользователь отправляет в чат команду /project:  
   4.1 Может перейти по ссылке в gitHub на страницу проекта  
   4.2 Может отправить сообщение пользователю - автору  
   ![project](https://github.com/boisterous-cat/tgBot/assets/93883573/6f80eb1e-a41d-4277-a37d-c0eb8e6479bc)

   
5. Пользователь отправляет в чат команду /top:  
   5.1 Может получить список топ 10 городов с наименьшим индексом качества воздуха, нажав на кнопку Топ 10  
   5.2 Может получить список топ 10 городов с наибольшим индексом качества воздуха, нажав на кнопку Худшие 10  
   ![top](https://github.com/boisterous-cat/tgBot/assets/93883573/fd99c5ad-7523-4b60-9ffc-36822ef77a34)


6. Пользователь отправляет в чат команду /aqi:  
   (есть валидация на вводимые пользователем значения)  
   6.1 Запускается машина состояний, которая последовательно собирает данные: уровень CO  
   6.2 уровень NO  
   6.3 уровень Ozone  
   6.3 уровень PM2.5  
   6.5 Машина состояний закрывается и пользователю вовращается ответ в виде: значение индекса, категория, визуализация.  
    ![aqi](https://github.com/boisterous-cat/tgBot/assets/93883573/4dfbc833-0ef6-46b8-bac6-261786e1b0e2)
   ![aqi2](https://github.com/boisterous-cat/tgBot/assets/93883573/50c48dd8-f229-4408-a17b-adc5282f3d2d)

   6.6. Если пользователь хочет прервать работу, то отправляет команду /cancel.    
   ![aqi_cancel](https://github.com/boisterous-cat/tgBot/assets/93883573/496c3f5b-5d60-438a-99ae-36e61f24bb4e)
   

7. Пользователь отправляет в чат команду /stat:  
   7.1 Если пользователь является администратором бота, то получит ответ (функционал сбора статистики пока не реализован)  
   ![admin](https://github.com/boisterous-cat/tgBot/assets/93883573/aef239bd-4404-4251-9b77-114bdd79ea00)

   7.2 Если пользователь не администратор, то он будет уведомлен.  
![photo_2024-01-14_16-30-42](https://github.com/boisterous-cat/tgBot/assets/93883573/107df052-1f51-4195-b147-1f89144088b6)

8. Пользователь отправляет что угодно, кроме вышеописанного:  
   Он будет уведомлен, что что-то пошло не так.  
![echo](https://github.com/boisterous-cat/tgBot/assets/93883573/ab1c2447-d098-40ff-be3a-ada7accf7138)

#### Планы к доработке:  
1. Подключить к FastApi.
2. Настроить получение геолокации для пункта 3.
3. Подключить к https://air-quality-api.open-meteo.com/v1/air-quality для получения данных по геолокации.

